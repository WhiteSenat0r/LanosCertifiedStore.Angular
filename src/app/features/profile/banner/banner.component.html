<div class="w-full py-base">
    <div class="max-w-[1200px] mx-auto px-base">
        <div class="flex flex-col md:flex-row gap-lg">
            <!-- User Info Card -->
            <div class="w-full md:w-3/5 rounded-3xl border-2 border-black p-md flex items-start gap-md md:gap-lg">
                <div
                    class="w-[80px] h-[80px] md:w-[160px] md:h-[160px] border-2 border-black rounded-full flex items-center justify-center flex-shrink-0">
                    <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 150 150" fill="none">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M75 25C70.0272 25 65.2581 26.9754 61.7417 30.4917C58.2254 34.0081 56.25 38.7772 56.25 43.75C56.25 48.7228 58.2254 53.4919 61.7417 57.0083C65.2581 60.5246 70.0272 62.5 75 62.5C79.9728 62.5 84.742 60.5246 88.2583 57.0083C91.7746 53.4919 93.75 48.7228 93.75 43.75C93.75 38.7772 91.7746 34.0081 88.2583 30.4917C84.742 26.9754 79.9728 25 75 25ZM52.9029 21.6529C58.7634 15.7924 66.712 12.5 75 12.5C83.288 12.5 91.2366 15.7924 97.0971 21.6529C102.958 27.5134 106.25 35.462 106.25 43.75C106.25 52.038 102.958 59.9866 97.0971 65.8471C91.2366 71.7076 83.288 75 75 75C66.712 75 58.7634 71.7076 52.9029 65.8471C47.0424 59.9866 43.75 52.038 43.75 43.75C43.75 35.462 47.0424 27.5134 52.9029 21.6529ZM39.6447 95.8947C49.0215 86.5178 61.7392 81.25 75 81.25C88.2608 81.25 100.979 86.5178 110.355 95.8947C119.732 105.271 125 117.989 125 131.25C125 134.702 122.202 137.5 118.75 137.5H31.25C29.5924 137.5 28.0027 136.842 26.8306 135.669C25.6585 134.497 25 132.908 25 131.25C25 117.989 30.2678 105.271 39.6447 95.8947ZM75 93.75C65.0544 93.75 55.5161 97.7009 48.4835 104.733C42.9417 110.275 39.3135 117.373 38.0243 125H111.976C110.686 117.373 107.058 110.275 101.517 104.733C94.4839 97.7009 84.9456 93.75 75 93.75Z"
                            fill="black" />
                    </svg>
                </div>

                <div class="flex-1 min-w-0">
                    <div class="flex items-center justify-between mb-sm md:mb-md">
                        <h1 class="text-lg md:text-h3 font-medium truncate">{{ userProfile?.firstName }}</h1>
                        <button class="text-indigo-700 hover:text-indigo-900 transition-colors ml-sm flex-shrink-0"
                            (click)="openProfileModal()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M18.5 4C18.1021 4 17.7205 4.15807 17.4391 4.43944L16.6462 5.23233L18.768 7.35412L19.5609 6.56122C19.8423 6.27986 20.0003 5.89824 20.0003 5.50033C20.0003 5.10242 19.8423 4.7208 19.5609 4.43944C19.2795 4.15807 18.8979 4 18.5 4ZM20.9751 7.97544C21.6315 7.319 22.0003 6.42868 22.0003 5.50033C22.0003 4.57198 21.6315 3.68166 20.9751 3.02522C20.3187 2.36878 19.4283 2 18.5 2C17.5717 2 16.6813 2.36878 16.0249 3.02522L14.5254 4.5247C14.5252 4.52488 14.5256 4.52453 14.5254 4.5247C14.5252 4.52488 14.5245 4.52557 14.5244 4.52574L2.29289 16.7572C2.10536 16.9448 2 17.1991 2 17.4643V21.0363C2 21.5886 2.44772 22.0363 3 22.0363H6.5C6.76522 22.0363 7.01957 21.931 7.20711 21.7434L20.9751 7.97544ZM17.3538 8.76833L15.232 6.64654L4 17.8785V20.0363H6.08579L17.3538 8.76833Z"
                                    fill="#4044A5" />
                            </svg>
                        </button>
                    </div>
                    <div class="space-y-xs md:space-y-sm">
                        <div class="flex items-center gap-xs md:gap-sm text-sm md:text-lg text-indigo-900">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 20 20"
                                fill="none">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M2.40029 4.06524C2.86913 3.5964 3.50502 3.33301 4.16806 3.33301H15.8347C16.4978 3.33301 17.1336 3.5964 17.6025 4.06524C18.0713 4.53408 18.3347 5.16997 18.3347 5.83301V6.65341C18.3348 6.66152 18.3348 6.66964 18.3347 6.67774V14.1663C18.3347 14.8294 18.0713 15.4653 17.6025 15.9341C17.1337 16.4029 16.4978 16.6663 15.8347 16.6663H4.16806C3.50502 16.6663 2.86913 16.4029 2.40029 15.9341C1.93145 15.4653 1.66806 14.8294 1.66806 14.1663V6.67773C1.66794 6.66963 1.66794 6.66153 1.66806 6.65342V5.83301C1.66806 5.16997 1.93145 4.53408 2.40029 4.06524ZM3.33472 8.22344V14.1663C3.33472 14.3874 3.42252 14.5993 3.5788 14.7556C3.73508 14.9119 3.94704 14.9997 4.16806 14.9997H15.8347C16.0557 14.9997 16.2677 14.9119 16.424 14.7556C16.5803 14.5993 16.6681 14.3874 16.6681 14.1663V8.22344L11.3889 11.7429C11.3888 11.7429 11.3887 11.743 11.3886 11.743C10.9779 12.017 10.4952 12.1633 10.0014 12.1633C9.50762 12.1633 9.02491 12.017 8.61414 11.743C8.61406 11.743 8.61397 11.7429 8.61389 11.7429L3.33472 8.22344ZM16.6681 6.22035L10.4641 10.3563L10.4639 10.3565C10.3269 10.4478 10.166 10.4966 10.0014 10.4966C9.83677 10.4966 9.67583 10.4478 9.53889 10.3565L9.53864 10.3563L3.33472 6.22035V5.83301C3.33472 5.61199 3.42252 5.40003 3.5788 5.24375C3.73508 5.08747 3.94704 4.99967 4.16806 4.99967H15.8347C16.0557 4.99967 16.2677 5.08747 16.424 5.24375C16.5803 5.40003 16.6681 5.61199 16.6681 5.83301V6.22035Z"
                                    fill="#353888" />
                            </svg>
                            <span class="truncate">{{userProfile?.email}}</span>
                        </div>
                        <div class="flex items-center gap-xs md:gap-sm text-sm md:text-lg text-indigo-900">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"
                                fill="none">
                                <path
                                    d="M1.875 5.625C1.875 12.5283 7.47167 18.125 14.375 18.125H16.25C16.7473 18.125 17.2242 17.9275 17.5758 17.5758C17.9275 17.2242 18.125 16.7473 18.125 16.25V15.1067C18.125 14.6767 17.8325 14.3017 17.415 14.1975L13.7292 13.2758C13.3625 13.1842 12.9775 13.3217 12.7517 13.6233L11.9433 14.7008C11.7083 15.0142 11.3025 15.1525 10.935 15.0175C9.57073 14.5159 8.33179 13.7238 7.30398 12.696C6.27618 11.6682 5.48406 10.4293 4.9825 9.065C4.8475 8.6975 4.98583 8.29167 5.29917 8.05667L6.37667 7.24833C6.67917 7.0225 6.81583 6.63667 6.72417 6.27083L5.8025 2.585C5.75178 2.38225 5.63477 2.20225 5.47004 2.07361C5.30532 1.94498 5.10234 1.87507 4.89333 1.875H3.75C3.25272 1.875 2.77581 2.07254 2.42417 2.42417C2.07254 2.77581 1.875 3.25272 1.875 3.75V5.625Z"
                                    stroke="#353888" stroke-width="1.5" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </svg>
                            <span *ngIf="userProfile?.phoneNumber; else addPhone" class="truncate">{{
                                userProfile.phoneNumber }}</span>
                            <ng-template #addPhone>
                                <button class="text-red-600 underline text-sm md:text-lg" (click)="openProfileModal()">
                                    Додайте номер
                                </button>
                            </ng-template>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Stats Card -->
            <div class="w-full md:w-2/5 rounded-3xl border-2 border-black p-md md:p-lg">
                <div class="flex flex-col sm:flex-row md:flex-col gap-md md:gap-lg">
                    <!-- Active Listings Stat -->
                    <div class="flex items-center gap-sm md:gap-md flex-1">
                        <div class="p-xs md:p-sm rounded-full flex-shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30"
                                fill="none">
                                <path
                                    d="M27.5219 13.7461C27.0924 13.176 25.4969 12.7834 24.8219 11.7574C24.1469 10.7314 23.5944 8.50957 21.8764 7.65586C20.1584 6.80215 16.8749 6.5625 14.9999 6.5625C13.1249 6.5625 9.8436 6.79688 8.12329 7.6541C6.40298 8.51133 5.85278 10.7314 5.17778 11.7557C4.50278 12.7799 2.90728 13.176 2.47778 13.7461C2.04829 14.3162 1.74595 17.9203 1.92993 19.6875C2.11392 21.4547 2.45727 22.5 2.45727 22.5H7.49634C8.32134 22.5 8.5897 22.19 10.2772 22.0312C12.1288 21.8555 13.9452 21.7969 14.9999 21.7969C16.0545 21.7969 17.9295 21.8555 19.7799 22.0312C21.4674 22.1912 21.7446 22.5 22.5608 22.5H27.5413C27.5413 22.5 27.8846 21.4547 28.0686 19.6875C28.2526 17.9203 27.9491 14.3162 27.5219 13.7461ZM23.4374 22.5H26.7186V23.4375H23.4374V22.5ZM3.2811 22.5H6.56235V23.4375H3.2811V22.5Z"
                                    stroke="black" stroke-linecap="round" stroke-linejoin="round" />
                                <path
                                    d="M21.3558 18.1153C21.0095 17.7151 19.881 17.3811 18.3869 17.1573C16.8927 16.9335 16.3478 16.8754 15.0119 16.8754C13.6759 16.8754 13.0683 16.9715 11.6363 17.1573C10.2043 17.343 9.12906 17.6735 8.66793 18.1153C7.97594 18.7856 8.98961 19.5379 9.78531 19.6294C10.5564 19.7172 12.098 19.685 15.0183 19.685C17.9386 19.685 19.4802 19.7172 20.2513 19.6294C21.0459 19.5327 21.9869 18.8325 21.3558 18.1153ZM25.2875 14.2417C25.2842 14.1951 25.2638 14.1514 25.2303 14.119C25.1968 14.0866 25.1524 14.0676 25.1058 14.0659C24.4138 14.0413 23.7113 14.0905 22.465 14.4579C21.8292 14.6435 21.2321 14.9425 20.7025 15.3403C20.5689 15.4446 20.6164 15.7264 20.7839 15.7563C21.8112 15.8768 22.8446 15.9375 23.8789 15.9379C24.4994 15.9379 25.1398 15.7622 25.2588 15.209C25.3194 14.8901 25.3291 14.5636 25.2875 14.2417ZM4.71285 14.2417C4.71614 14.1951 4.7365 14.1514 4.77003 14.119C4.80355 14.0866 4.84787 14.0676 4.89449 14.0659C5.58649 14.0413 6.28902 14.0905 7.53531 14.4579C8.17114 14.6435 8.76822 14.9425 9.29781 15.3403C9.43141 15.4446 9.38395 15.7264 9.21637 15.7563C8.18912 15.8768 7.15574 15.9375 6.12145 15.9379C5.50094 15.9379 4.86051 15.7622 4.74156 15.209C4.68091 14.8901 4.67122 14.5636 4.71285 14.2417Z"
                                    fill="black" />
                                <path
                                    d="M25.3125 11.25H26.25M3.75 11.25H4.6875M4.57031 12.3633C4.57031 12.3633 7.28613 11.6602 15 11.6602C22.7139 11.6602 25.4297 12.3633 25.4297 12.3633"
                                    stroke="black" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                        </div>
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center gap-sm">
                                <p class="text-md md:text-xl font-medium text-indigo-900">Активні оголошення</p>
                                <p class="text-lg md:text-h5 font-semibold">{{ activeListingsCount }}</p>
                            </div>
                        </div>
                    </div>

                    <!-- Total Views Stat -->
                    <div class="flex items-center gap-sm md:gap-md flex-1">
                        <div class="p-xs md:p-sm rounded-full flex-shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30"
                                fill="none">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M8.75 5C8.41848 5 8.10054 5.1317 7.86612 5.36612C7.6317 5.60054 7.5 5.91848 7.5 6.25V24.2275L14.441 20.757C14.7929 20.581 15.2071 20.581 15.559 20.757L22.5 24.2275V6.25C22.5 5.91848 22.3683 5.60054 22.1339 5.36612C21.8995 5.1317 21.5815 5 21.25 5H8.75ZM6.09835 3.59835C6.80161 2.89509 7.75544 2.5 8.75 2.5H21.25C22.2446 2.5 23.1984 2.89509 23.9016 3.59835C24.6049 4.30161 25 5.25544 25 6.25V26.25C25 26.6832 24.7757 27.0856 24.4072 27.3133C24.0386 27.5411 23.5785 27.5618 23.191 27.368L15 23.2725L6.80902 27.368C6.42153 27.5618 5.96136 27.5411 5.59284 27.3133C5.22432 27.0856 5 26.6832 5 26.25V6.25C5 5.25544 5.39509 4.30161 6.09835 3.59835Z"
                                    fill="black" />
                            </svg>
                        </div>
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center gap-sm">
                                <p class="text-md md:text-xl font-medium text-indigo-900">Обрані оголошення</p>
                                <p class="text-lg md:text-h5 font-semibold">{{wishlistCount}}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div *ngIf="isProfileModalOpen" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-portGore-50 rounded-2xl shadow-2xl" style="width: 450px; height: 380px;">

            <div class="flex items-center justify-between p-base border-portGore-200">
                <h2 class="text-md font-medium text-content-primary">Редагувати профіль</h2>
                <button (click)="closeProfileModal()"
                    class="w-6 h-6 flex items-center justify-center text-content-tertiary hover:text-content-secondary transition-all duration-200"
                    type="button" aria-label="Закрити">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M5.29289 5.29289C5.68342 4.90237 6.31658 4.90237 6.70711 5.29289L12 10.5858L17.2929 5.29289C17.6834 4.90237 18.3166 4.90237 18.7071 5.29289C19.0976 5.68342 19.0976 6.31658 18.7071 6.70711L13.4142 12L18.7071 17.2929C19.0976 17.6834 19.0976 18.3166 18.7071 18.7071C18.3166 19.0976 17.6834 19.0976 17.2929 18.7071L12 13.4142L6.70711 18.7071C6.31658 19.0976 5.68342 19.0976 5.29289 18.7071C4.90237 18.3166 4.90237 17.6834 5.29289 17.2929L10.5858 12L5.29289 6.70711C4.90237 6.31658 4.90237 5.68342 5.29289 5.29289Z"
                            fill="currentColor" />
                    </svg>
                </button>
            </div>

            <div class="px-base pb-sm pt-md">
                <form (ngSubmit)="onSubmit()" class="space-y-md">

                    <div>
                        <label class="block text-sm font-medium text-content-primary mb-xs">Ім'я</label>
                        <input type="text" [(ngModel)]="profileForm.firstName" name="firstName"
                            class="w-full bg-portGore-50 px-sm py-xs border border-kimberly-300 rounded focus:ring-1 focus:ring-kimberly-500 focus:border-kimberly-500 outline-none transition-colors text-sm"
                            style="height: 36px;" placeholder="Введіть ім'я">
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-content-primary mb-xs">Прізвище</label>
                        <input type="text" [(ngModel)]="profileForm.lastName" name="lastName"
                            class="w-full bg-portGore-50 px-sm py-xs border border-kimberly-300 rounded focus:ring-1 focus:ring-kimberly-500 focus:border-kimberly-500 outline-none transition-colors text-sm"
                            style="height: 36px;" placeholder="Введіть прізвище">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-content-primary mb-xs">Телефон</label>
                        <input type="tel" [(ngModel)]="profileForm.phone" name="phone"
                            class="w-full bg-portGore-50 px-sm py-xs border border-kimberly-300 rounded focus:ring-1 focus:ring-kimberly-500 focus:border-kimberly-500 outline-none transition-colors text-sm"
                            style="height: 36px;" placeholder="+380685428123">
                    </div>


                    <div class="flex justify-end space-x-sm pt-xs">
                        <button type="button" (click)="onCancel()"
                            class="px-base py-xs border border-portGore-600 text-content-secondary rounded hover:bg-portGore-50 transition-colors font-medium text-sm"
                            style="height: 36px; min-width: 100px;">
                            Скасувати
                        </button>
                        <button type="submit" (click)="onSubmit()"
                            class="px-base py-xs bg-portGore-600 text-white rounded hover:bg-portGore-700 transition-colors font-medium text-sm"
                            style="height: 36px; min-width: 100px;">
                            Зберегти
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>