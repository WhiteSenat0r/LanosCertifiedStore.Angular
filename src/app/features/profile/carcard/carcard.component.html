<div
    class="w-full max-w-[1200px] bg-kimberly-50 rounded-xl shadow-sm overflow-hidden flex flex-col md:flex-row min-h-[260px]"  (click)="handleCardClick(vehicle)">
    <!-- Зображення -->
    <div class="w-full md:w-1/3 h-[200px] md:h-auto">
        <img [src]="vehicle.mainImageUrl" alt="{{ vehicle.fullName }}" class="w-full h-full object-cover" />
    </div>

    <!-- Текстова частина -->
    <div class="w-full md:w-2/3 p-md relative">
        <!-- Назва і ціна з кнопками -->
        <div class="flex justify-between items-start gap-sm mb-sm">
            <div class="flex-1">
                <h2 class="text-base md:text-lg lg:text-h3 font-bold text-gray-900 leading-tight">{{ vehicle.fullName }}
                </h2>
                <p class="text-base md:text-lg font-semibold mt-xs flex items-baseline">
                    {{ vehicle.price }} <span class="text-jaguar-800 ml-[2px]">$</span>
                </p>
            </div>

            <!-- Кнопки -->
            <div class="flex gap-[6px] ml-sm">
                <button *ngIf="tabType === 'my'"
                    class="border border-black rounded bg-white flex items-center gap-[6px] p-[6px] lg:px-[12px] lg:py-[3px]"
                    title="Редагувати">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 20 20"
                        class="text-[#353888] lg:w-5 lg:h-5">
                        <path fill="currentColor"
                            d="M17.181 2.927a2.975 2.975 0 0 0-4.259-.054l-9.375 9.375a2.44 2.44 0 0 0-.656 1.194l-.877 3.95a.5.5 0 0 0 .596.597l3.927-.873a2.5 2.5 0 0 0 1.234-.678l9.358-9.358a2.975 2.975 0 0 0 .052-4.153m-3.552.653a1.975 1.975 0 1 1 2.793 2.793l-.671.671l-2.793-2.792zm-1.378 1.38l2.793 2.792-7.98 7.98a1.5 1.5 0 0 1-.744.409l-3.16.702l.708-3.183c.059-.267.193-.511.386-.704z" />
                    </svg>
                    <span class="hidden lg:inline text-sm">Редагувати</span>
                </button>
                <button *ngIf="tabType === 'my'"
                    class="border border-black rounded bg-white flex items-center gap-[6px] p-[6px] lg:px-[12px] lg:py-[3px]"
                    (click)="openDeleteModal()" title="Видалити">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 20 20"
                        class="text-[#353888] lg:w-5 lg:h-5">
                        <path fill="currentColor"
                            d="m9.129 0l1.974.005c.778.094 1.46.46 2.022 1.078c.459.504.7 1.09.714 1.728h5.475a.69.69 0 0 1 .686.693a.69.69 0 0 1-.686.692l-1.836-.001v11.627c0 2.543-.949 4.178-3.041 4.178H5.419c-2.092 0-3.026-1.626-3.026-4.178V4.195H.686A.69.69 0 0 1 0 3.505c0-.383.307-.692.686-.692h5.47c.014-.514.205-1.035.554-1.55C7.23.495 8.042.074 9.129 0m6.977 4.195H3.764v11.627c0 1.888.52 2.794 1.655 2.794h9.018c1.139 0 1.67-.914 1.67-2.794zM6.716 6.34c.378 0 .685.31.685.692v8.05a.69.69 0 0 1-.686.692a.69.69 0 0 1-.685-.692v-8.05c0-.382.307-.692.685-.692m2.726 0c.38 0 .686.31.686.692v8.05a.69.69 0 0 1-.686.692a.69.69 0 0 1-.685-.692v-8.05c0-.382.307-.692.685-.692m2.728 0c.378 0 .685.31.685.692v8.05a.69.69 0 0 1-.685.692a.69.69 0 0 1-.686-.692v-8.05a.69.69 0 0 1 .686-.692M9.176 1.382c-.642.045-1.065.264-1.334.662c-.198.291-.297.543-.313.768l4.938-.001c-.014-.291-.129-.547-.352-.792c-.346-.38-.73-.586-1.093-.635z" />
                    </svg>
                    <span class="hidden lg:inline text-sm">Видалити</span>
                </button>
                <ng-container *ngIf="tabType === 'favorite'">
                    <button
                        class="border border-portGore-500 rounded bg-white flex items-center gap-[6px] p-[6px] lg:px-[12px] lg:py-[3px]"
                        (click)="removeFromFavorites()" title="Видалити з обраного">
                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" fill="none">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M7.29297 4.16732C7.0167 4.16732 6.75175 4.27706 6.5564 4.47241C6.36105 4.66776 6.2513 4.93272 6.2513 5.20898V20.1902L12.0355 17.2981C12.3287 17.1515 12.6739 17.1515 12.9672 17.2981L18.7513 20.1902V5.20898C18.7513 4.93272 18.6416 4.66777 18.4462 4.47241C18.2509 4.27706 17.9859 4.16732 17.7096 4.16732H7.29297ZM5.08326 2.99928C5.66931 2.41322 6.46417 2.08398 7.29297 2.08398H17.7096C18.5384 2.08398 19.3333 2.41322 19.9193 2.99928C20.5054 3.58533 20.8346 4.38018 20.8346 5.20898V21.8757C20.8346 22.2367 20.6477 22.5719 20.3406 22.7617C20.0335 22.9515 19.65 22.9688 19.3271 22.8073L12.5013 19.3944L5.67548 22.8073C5.35258 22.9688 4.9691 22.9515 4.662 22.7617C4.3549 22.5719 4.16797 22.2367 4.16797 21.8757V5.20898C4.16797 4.38018 4.49721 3.58533 5.08326 2.99928Z"
                                fill="#353888" />
                        </svg>
                        <span class="hidden lg:inline text-sm">Видалити з обраного</span>
                    </button>
                </ng-container>
            </div>
        </div>
        <!-- Характеристики -->
        <div class="mt-sm">
            <!-- Мобільна версія - компактні теги -->
            <div class="flex flex-wrap md:hidden gap-[8px]">
                <span class="bg-[#ECE9F1] px-[6px] py-[2px] rounded flex items-center gap-[4px] text-xs">
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"
                        class="text-[#353888] flex-shrink-0">
                        <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                            stroke-width="2"
                            d="M3 22h12M4 9h10m0 13V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18m10-9h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5" />
                    </svg>
                    {{ vehicle.engineType }}
                </span>
                <span class="bg-[#ECE9F1] px-[6px] py-[2px] rounded flex items-center gap-[4px] text-xs">
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 256 256"
                        class="text-[#353888] flex-shrink-0">
                        <path fill="currentColor"
                            d="M128 64a40 40 0 1 0 40 40a40 40 0 0 0-40-40m0 64a24 24 0 1 1 24-24a24 24 0 0 1-24 24m0-112a88.1 88.1 0 0 0-88 88c0 31.4 14.51 64.68 42 96.25a254.2 254.2 0 0 0 41.45 38.3a8 8 0 0 0 9.18 0a254.2 254.2 0 0 0 41.37-38.3c27.45-31.57 42-64.85 42-96.25a88.1 88.1 0 0 0-88-88m0 206c-16.53-13-72-60.75-72-118a72 72 0 0 1 144 0c0 57.23-55.47 105-72 118" />
                    </svg>
                    {{ vehicle.locationTownName }}
                </span>
                <span class="bg-[#ECE9F1] px-[6px] py-[2px] rounded flex items-center gap-[4px] text-xs">
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"
                        class="text-[#353888] flex-shrink-0">
                        <path fill="currentColor"
                            d="M8 10h8v8h-5l-2-2H7v-5m0-7v2h3v2H7l-2 2v3H3v-3H1v8h2v-3h2v3h3l2 2h8v-4h2v3h3V9h-3v3h-2V8h-6V6h3V4z" />
                    </svg>
                    {{ vehicle.displacement }}
                </span>
                <span class="bg-[#ECE9F1] px-[6px] py-[2px] rounded flex items-center gap-[4px] text-xs">
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 512 512"
                        class="text-[#353888] flex-shrink-0">
                        <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                            stroke-width="32"
                            d="M469.71 234.6c-7.33-9.73-34.56-16.43-46.08-33.94s-20.95-55.43-50.27-70S288 112 256 112s-88 4-117.36 18.63s-38.75 52.52-50.27 70s-38.75 24.24-46.08 33.97S29.8 305.84 32.94 336s9 48 9 48h86c14.08 0 18.66-5.29 47.46-8c31.6-3 62.6-4 80.6-4s50 1 81.58 4c28.8 2.73 33.53 8 47.46 8h85s5.86-17.84 9-48s-2.04-91.67-9.33-101.4M400 384h56v16h-56zm-344 0h56v16H56z" />
                        <path fill="currentColor"
                            d="M364.47 309.16c-5.91-6.83-25.17-12.53-50.67-16.35S279 288 256.2 288s-33.17 1.64-57.61 4.81s-42.79 8.81-50.66 16.35C136.12 320.6 153.42 333.44 167 335c13.16 1.5 39.47.95 89.31.95s76.15.55 89.31-.95c13.56-1.65 29.62-13.6 18.85-25.84m67.1-66.11a3.23 3.23 0 0 0-3.1-3c-11.81-.42-23.8.42-45.07 6.69a93.9 93.9 0 0 0-30.08 15.06c-2.28 1.78-1.47 6.59 1.39 7.1a455 455 0 0 0 52.82 3.1c10.59 0 21.52-3 23.55-12.44a52.4 52.4 0 0 0 .49-16.51m-351.14 0a3.23 3.23 0 0 1 3.1-3c11.81-.42 23.8.42 45.07 6.69a93.9 93.9 0 0 1 30.08 15.06c2.28 1.78 1.47 6.59-1.39 7.1a455 455 0 0 1-52.82 3.1c-10.59 0-21.52-3-23.55-12.44a52.4 52.4 0 0 1-.49-16.51" />
                        <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                            stroke-width="32" d="M432 192h16m-384 0h16m-2 19s46.35-12 178-12s178 12 178 12" />
                    </svg>
                    {{ vehicle.mileage | number }}
                </span>
                <span class="bg-[#ECE9F1] px-[6px] py-[2px] rounded flex items-center gap-[4px] text-xs">
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"
                        class="text-[#353888] flex-shrink-0">
                        <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                            stroke-width="2">
                            <path
                                d="M3 6a2 2 0 1 0 4 0a2 2 0 1 0-4 0m7 0a2 2 0 1 0 4 0a2 2 0 1 0-4 0m7 0a2 2 0 1 0 4 0a2 2 0 1 0-4 0M3 18a2 2 0 1 0 4 0a2 2 0 1 0-4 0m7 0a2 2 0 1 0 4 0a2 2 0 1 0-4 0M5 8v8m7-8v8" />
                            <path d="M19 8v2a2 2 0 0 1-2 2H5" />
                        </g>
                    </svg>
                    {{ vehicle.bodyType }}
                </span>
            </div>

            <!-- Десктопна версія - два ряди -->
            <div class="hidden md:block">
                <!-- Верхній ряд -->
                <div class="flex gap-[28px] mb-[18px]">
                    <span class="bg-[#ECE9F1] px-sm py-[3px] rounded flex items-center gap-sm whitespace-nowrap">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                            class="text-[#353888]">
                            <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                stroke-width="2"
                                d="M3 22h12M4 9h10m0 13V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18m10-9h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5" />
                        </svg>
                        {{ vehicle.engineType }}
                    </span>
                    <span class="bg-[#ECE9F1] px-sm py-[3px] rounded flex items-center gap-sm whitespace-nowrap">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 256 256"
                            class="text-[#353888]">
                            <path fill="currentColor"
                                d="M128 64a40 40 0 1 0 40 40a40 40 0 0 0-40-40m0 64a24 24 0 1 1 24-24a24 24 0 0 1-24 24m0-112a88.1 88.1 0 0 0-88 88c0 31.4 14.51 64.68 42 96.25a254.2 254.2 0 0 0 41.45 38.3a8 8 0 0 0 9.18 0a254.2 254.2 0 0 0 41.37-38.3c27.45-31.57 42-64.85 42-96.25a88.1 88.1 0 0 0-88-88m0 206c-16.53-13-72-60.75-72-118a72 72 0 0 1 144 0c0 57.23-55.47 105-72 118" />
                        </svg>
                        {{ vehicle.locationTownName }}
                    </span>
                    <span class="bg-[#ECE9F1] px-sm py-[3px] rounded flex items-center gap-sm whitespace-nowrap">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                            class="text-[#353888]">
                            <path fill="currentColor"
                                d="M8 10h8v8h-5l-2-2H7v-5m0-7v2h3v2H7l-2 2v3H3v-3H1v8h2v-3h2v3h3l2 2h8v-4h2v3h3V9h-3v3h-2V8h-6V6h3V4z" />
                        </svg>
                        {{ vehicle.displacement }}
                    </span>
                </div>

                <!-- Нижній ряд -->
                <div class="flex gap-[28px]">
                    <span class="bg-[#ECE9F1] px-sm py-[3px] rounded flex items-center gap-sm whitespace-nowrap">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 512 512"
                            class="text-[#353888]">
                            <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                stroke-width="32"
                                d="M469.71 234.6c-7.33-9.73-34.56-16.43-46.08-33.94s-20.95-55.43-50.27-70S288 112 256 112s-88 4-117.36 18.63s-38.75 52.52-50.27 70s-38.75 24.24-46.08 33.97S29.8 305.84 32.94 336s9 48 9 48h86c14.08 0 18.66-5.29 47.46-8c31.6-3 62.6-4 80.6-4s50 1 81.58 4c28.8 2.73 33.53 8 47.46 8h85s5.86-17.84 9-48s-2.04-91.67-9.33-101.4M400 384h56v16h-56zm-344 0h56v16H56z" />
                            <path fill="currentColor"
                                d="M364.47 309.16c-5.91-6.83-25.17-12.53-50.67-16.35S279 288 256.2 288s-33.17 1.64-57.61 4.81s-42.79 8.81-50.66 16.35C136.12 320.6 153.42 333.44 167 335c13.16 1.5 39.47.95 89.31.95s76.15.55 89.31-.95c13.56-1.65 29.62-13.6 18.85-25.84m67.1-66.11a3.23 3.23 0 0 0-3.1-3c-11.81-.42-23.8.42-45.07 6.69a93.9 93.9 0 0 0-30.08 15.06c-2.28 1.78-1.47 6.59 1.39 7.1a455 455 0 0 0 52.82 3.1c10.59 0 21.52-3 23.55-12.44a52.4 52.4 0 0 0 .49-16.51m-351.14 0a3.23 3.23 0 0 1 3.1-3c11.81-.42 23.8.42 45.07 6.69a93.9 93.9 0 0 1 30.08 15.06c2.28 1.78 1.47 6.59-1.39 7.1a455 455 0 0 1-52.82 3.1c-10.59 0-21.52-3-23.55-12.44a52.4 52.4 0 0 1-.49-16.51" />
                            <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                stroke-width="32" d="M432 192h16m-384 0h16m-2 19s46.35-12 178-12s178 12 178 12" />
                        </svg> {{ vehicle.mileage | number }}
                    </span>
                    <span class="bg-[#ECE9F1] px-sm py-[3px] rounded flex items-center gap-sm whitespace-nowrap">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                            class="text-[#353888]">
                            <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                stroke-width="2">
                                <path
                                    d="M3 6a2 2 0 1 0 4 0a2 2 0 1 0-4 0m7 0a2 2 0 1 0 4 0a2 2 0 1 0-4 0m7 0a2 2 0 1 0 4 0a2 2 0 1 0-4 0M3 18a2 2 0 1 0 4 0a2 2 0 1 0-4 0m7 0a2 2 0 1 0 4 0a2 2 0 1 0-4 0M5 8v8m7-8v8" />
                                <path d="M19 8v2a2 2 0 0 1-2 2H5" />
                            </g>
                        </svg> {{ vehicle.bodyType }}
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>


<div *ngIf="showDeleteModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white rounded-lg p-md max-w-md mx-md shadow-xl">
        <div class="flex items-center mb-4">
            <svg class="w-4 h-4 text-red-600 mr-sm" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.962-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z">
                </path>
            </svg>
            <h3 class="text-lg font-semibold text-gray-900">Підтвердження видалення</h3>
        </div>

        <p class="text-gray-600 mb-[6px]">
            Ви впевнені, що хочете видалити це оголошення? Цю дію неможливо буде скасувати.
        </p>

        <div class="flex justify-end gap-[4px]">
            <button (click)="closeDeleteModal()"
                class="px-sm py-[2px] bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors">
                Скасувати
            </button>
            <button (click)="confirmDelete()"
                class="px-sm py-[2px] bg-red-600 text-white rounded hover:bg-red-700 transition-colors">
                Видалити
            </button>
        </div>
    </div>
</div>